<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>carClaimChart.html</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <link rel="stylesheet" type="text/css" href="../static/bootstrap/bootstrap.min.css">
    <style>
        #myChart {
            width: 500px; /* 원하는 너비로 설정 */
            height: 500px; /* 원하는 높이로 설정 */
        }
    </style>	
</head>
<body>
</br>
    <h3 style="text-align: center">연간 청구수</h3>
    <div style="width: 70%; margin: auto;"> <!-- 차트 너미 50, 중앙위치 -->
        <canvas id="myChart"></canvas>
    </div> 
	<table class="table table-borderless">

	    <script th:inline="javascript">
	        /*<![CDATA[*/
	        const chartData = /*[[${chartData}]]*/ [];
	        
	        const years = chartData.map(entry => entry.claimYear);
	        const claimCounts = chartData.map(entry => entry.claimCount);
	
	        const ctx = document.getElementById('myChart').getContext('2d');
	        const myChart = new Chart(ctx, {
	            type: 'line',
	            data: {
	                labels: years,
	                datasets: [{
	                    label: '청구수',
	                    data: claimCounts,
	                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
	                    borderColor: 'rgba(75, 192, 192, 1)',
	                    borderWidth: 1
	                }]
	            },
	            options: {
	                scales: {
	                    y: {
	                        beginAtZero: true
	                    }
	                }
	            }
	        });
	        /*]]>*/
	        
	    </script>
    </table>
	    <table class="table table-borderless" style="text-align: center;">
            <tr><th>
                    <button type="button" class="btn btn-outline-dark" onclick="javascript:history.back()">뒤로가기</button>
                    <button type="button" class="btn btn-outline-dark" onclick="javascript:location.href='/'">홈으로</button></th></tr>
        </table>
</body>
</html>
